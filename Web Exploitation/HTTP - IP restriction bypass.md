# HTTP - IP restriction bypass

Only local users will be able to access the page

# Overview

Đề bài có nhắc đến việc sử dụng đến [private IP address](https://en.wikipedia.org/wiki/Private_network) , và không cần thiết phải login username/password khi mà đã kết nối tới mạng nội bộ

[link challenge](http://challenge01.root-me.org/web-serveur/ch68/)

# Analyse

Challenge có 1 form như sau

![image](https://user-images.githubusercontent.com/115911041/221203351-bf1cb720-13cf-423b-908e-66bdb6213230.png)

Ta thấy dòng `Your IP:...... do not belong to the LAN` và `You should authenticate because you're not on the LAN`

Vậy thì ta cần phải intercept vào HTTP HEADER để lấy được flag, và bởi vì có liên quan đến 2 yếu tố kể trên nên ta sử dụng [X-Fowarded-For](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-For)

# Solution 1

Sử dụng tool Burp Suite để [intercept](https://portswigger.net/burp/documentation/desktop/tools/proxy/intercept-messages)

Turn on intercept rồi ta sẽ thêm request header và sử dụng private IP address `X-Forwarded-For: 192.168.1.1`

![image](https://user-images.githubusercontent.com/115911041/221206818-0ae9ddcc-d0d2-4257-85a3-85bc5c3cadbb.png)

Sau đó click vào `Forward` để mà sau khi review hoặc edit message thì sẽ gửi lại cho target

Sau đó trên trang web hiện ra password

![image](https://user-images.githubusercontent.com/115911041/221207970-ad9adfb4-1a2e-4266-949f-f01a8fec8979.png)

*Để làm như cách của mình các bạn phải cài đặt FoxyProxy extension và chỉ cần bật lên rồi intercept on là sẽ hiện ra 

